%!TEX root = Main.tex
\documentclass[Main]{subfiles}

\begin{document}

\section{Hardware} % (fold)
\label{sec:hardware}

	\subsection{Platform} % (fold)
	\label{sub:platform}

		The processing platform chosen for this project is a \emph{ZYBO Zynqâ„¢-7000 Development Board} from Digilent (see Figure \ref{fig:ZYBO}).
		The brains of the ZYBO is a Xilinx Zynq-7000 All Programmable System on a Chip (AP SoC).
		The AP SoC (see Figure \ref{fig:ZynqArch}) features both a Processing System (PS) consisting of 650 MHz dual core ARM\textregistered{} Cortex A9 CPU with dedicated I/O and Memory and extensible FPGA Programmable Logic (PL) for HW synthesis.

		This enables the construction of a system with software, written in C++, running on the CPU, and with dedicated hardware for acceleration of computation and I/O handling.
		\begin{figure}[H]
			\centering
			\begin{subfigure}[b]{0.55\linewidth}
				\includegraphics[width=\linewidth]{ZYBO}
				\caption{Digilent Zynq Board (ZYBO)}
				\label{fig:ZYBO}
			\end{subfigure}		
			\begin{subfigure}[b]{0.4\linewidth}
				\includegraphics[width=\linewidth]{ZynqArch}
				\caption{Zynq-7000 AP SoC Diagram}
				\label{fig:ZynqArch}
			\end{subfigure}
			\caption{Figures borrowed from \cite{Digilent2014}}		
		\end{figure}

		Alongside the AP SoC the ZYBO features a range external hardware for power supply/management and interfacing.
		It has push-buttons, throw-switches and LEDs for direct interface, USB-OTG, UART-to-USB and Ethernet for communication and HDMI, VGA and an audio codec for Audio/Visual.

		Lastly, the ZYBO features six PMOD GPIO ports along the perimeter (see Figure \ref{fig:ZYBO}), one directly connected to the PS and the others accessible through the PL.
		They deliver 3.3V power to external devices as well as eight customizable 1.8V or 3.3V digital I/O ports each (see Figure \ref{fig:pmod}).
		These are used for interfacing with the sensor and motor (see Section \fxnote{ref to sensors} and \fxnote{ref to mortors}, respectively).

		\begin{figure}[H]
			\centering
			\includegraphics[width=0.5\linewidth]{PMOD_connector}
			\caption{PMOD Connector. Borrowed from \cite{Digilent2014}}
			\label{fig:pmod}
		\end{figure}


		\subsubsection{HW/SW Co-Design} % (fold)
		\label{ssub:hw_sw_co_design}

			The availability of FPGA logic on-chip enables rapid prototyping of HW acceleration blocks, through the use of High-Level Synthesis (HLS) tools.
			Using HLS one can specify some desired functionality in C++/SystemC code and directly synthesize it to HW-blocks to be implemented in FPGA logic, without needing to explicitly design HW in a Hardware Description Language like VHDL or Verilog.

			This is utilized for creating a PWM motor controller, described in Section \fxnote{ref to PWM controller HLS}.

			% subsubsection hw_sw_co_design (end)
	
		% subsection platform (end)

	\subsection{Power} % (fold)
	\label{sub:power}
	
	% subsection power (end)

	\subsection{Sensors} % (fold)
	\label{sub:sensor}
	
	% subsection sensor (end)

	\subsection{Motor Control} % (fold)
	\label{sub:motor_control}

		The motor control hardware consists of two major blocks, an external Dual H-Bridge for driving the power the the motors, and an on-chip PWM controller for controlling the motor driver.
	
		% subsection motor_control (end)


% section hardware (end)

\end{document}